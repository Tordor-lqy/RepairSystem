import V from"./MyOrderDialog-9D2kTU7n.js";import{r as k,_ as M,j as m,o as x}from"./VChip-BAScr-gb.js";import{v as n,q as f,x as h,y as t,j as i,w as g,F as y,B,s as w,A as o,C as $,D as I}from"./index-mbHgxV2f.js";import"./SubmitRepair-Dyku-xqQ.js";import"./orderapi-BY3sv2jG.js";const S=(l,c)=>k.get(`/order/query/me?num=${l}&per=${c}`),q=l=>($("data-v-be18646c"),l=l(),I(),l),D={class:"btns"},N={class:"me_order"},j=q(()=>t("div",{class:"text-h6 pl-6 pt-4"},"我提交的",-1)),F=["onClick"],U={class:"text"},z={class:"pt-2",style:{"font-size":"12px"}},A={class:"pt-2"},E={class:"pt-2"},L={class:"status"},O={__name:"MeView",setup(l){const c=n([]),d=n({}),_=n(!1),a=n(1),r=n(6),u=n(null),p=async()=>{const v=await S(a.value,r.value);c.value=v.data.data.records,u.value=v.data.data.total};p();function b(){a.value--,a.value<1&&(a.value=1),p()}function C(){a.value++,a.value>=Math.ceil(u.value/r.value)&&(a.value=Math.ceil(u.value/r.value)),p()}return(v,s)=>(f(),h(y,null,[t("div",D,[i(m,{class:"up-btn",icon:"mdi-menu-left",onClick:s[0]||(s[0]=e=>b())}),i(m,null,{default:g(()=>[w(o(a.value)+" / "+o(Math.ceil(u.value/r.value)),1)]),_:1}),i(m,{class:"down-btn",icon:"mdi-menu-right",onClick:s[1]||(s[1]=e=>C())})]),t("div",N,[j,(f(!0),h(y,null,B(c.value,e=>(f(),h("div",{class:"card",onClick:T=>{d.value=e,_.value=!0}},[t("div",U,[t("div",null,[t("h3",null,o(e.damage_type_name),1),t("p",z," 故障详情 : "+o(e.damage_details.length>10?e.damage_details.slice(0,10)+"...":e.damage_details),1),t("h6",A,o(e.one_location_name+"-"+e.two_location_name+"-"+e.final_location_name),1),t("h6",E,o(e.order_update_time),1)]),t("div",L,[i(x,{class:"my-2",color:e.order_is_repaired==1?"success":"error"},{default:g(()=>[w(o(e.order_is_repaired==0?"未修复":"已修复"),1)]),_:2},1032,["color"]),i(x,{class:"my-2",color:e.order_is_public==1?"warning":"blue"},{default:g(()=>[w(o(e.order_is_public==0?"未公开":"已公开"),1)]),_:2},1032,["color"])])])],8,F))),256))]),i(V,{order:d.value,"onUpdate:order":s[2]||(s[2]=e=>d.value=e),show:_.value,"onUpdate:show":s[3]||(s[3]=e=>_.value=e)},null,8,["order","show"])],64))}},Q=M(O,[["__scopeId","data-v-be18646c"]]);export{Q as default};
